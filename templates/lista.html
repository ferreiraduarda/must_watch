{% extends 'base.html' %}

{% block content %}

<section class="card formulario">
    <form method="POST">
        <div class="campo">
            <label for="titulo">Título</label>
            <input 
                type="text" 
                id="titulo" 
                name="titulo"
                value="{{ item.titulo if item else '' }}"
                required
            >
        </div>

        <div class="campo">
            <label for="tipo">Tipo</label>
            <input 
                type="text" 
                id="tipo" 
                name="tipo"
                value="{{ item.tipo if item else '' }}"
                required
            >
        </div>

        <div class="campo">
            <label for="indicado_por">Indicado por</label>
            <input 
                type="text" 
                id="indicado_por" 
                name="indicado_por"
                value="{{ item.indicado_por if item else '' }}"
            >
        </div>

        <button type="submit">
            {{ 'Atualizar' if item else 'Adicionar' }}
        </button>
    </form>
</section>

<h2>Minha Lista</h2>

{% if lista %}
<section id="lista-de-tarefas">
    {% for item in lista %}
    <div class="card-tarefa">
        <p>{{ item.titulo }} ({{ item.tipo }})</p>
        <span class="data">{{ item.indicado_por or 'Não informado' }}</span>
        <div class="acoes">
            <a href="{{ url_for('editar', id=item.id) }}">Editar</a>
            <a href="{{ url_for('delete', id=item.id) }}">Apagar</a>
        </div>
    </div>
    {% endfor %}
</section>
{% else %}
<p class="vazio">Nada adicionado à Lista de Desejos.</p>
{% endif %}

{% endblock %}
